{% extends "auctions/layout.html" %}

{% block body %}

<!-- Page title -->
<h2>Active Listings</h2>

<!-- Container for listing items -->
<div>

    <!-- Loop through all active listings -->
    {% for listing in listings %}
        <div style="border: 1px solid #ccc; padding: 10px; margin-bottom: 10px;">

            <!-- Display image if available -->
            {% if listing.image_url %}
                <img src="{{ listing.image_url }}" alt="{{ listing.title }}" width="200">
            {% endif %}

            <!-- Title linked to the individual listing page -->
            <h3>
                <a href="{% url 'listing_page' listing.id %}">
                    {{ listing.title }}
                </a>
            </h3>

            <!-- Display short description and starting bid -->
            <p>{{ listing.description }}</p>
            <p><strong>Starting Bid:</strong> ${{ listing.starting_bid }}</p>
        </div>

    <!-- If there are no active listings, show fallback text -->
    {% empty %}
        <p>No active listings yet.</p>
    {% endfor %}

</div>

{% endblock %}